<!-- city-form.component.html -->
<div class="max-w-md mx-auto p-6 bg-veryLightGray rounded-lg shadow-md">
  <h2 class="text-2xl font-heading text-primary mb-6">City Information</h2>

  <form [formGroup]="cityForm" (ngSubmit)="onSubmit()" novalidate class="space-y-4">
    <!-- ID Field -->
    <div>
      <label for="id" class="block text-sm font-medium text-darkGray mb-1">ID</label>
      <input type="number" id="id" formControlName="id"
        class="w-full px-3 py-2 border border-lightGray rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent bg-white"
        readonly>
    </div>

    <!-- Name Field -->
    <div>
      <label for="name" class="block text-sm font-medium text-darkGray mb-1">City Name</label>
      <input type="text" id="name" formControlName="name"
        class="w-full px-3 py-2 border border-lightGray rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
        [class.border-danger]="cityForm.get('name')?.invalid && cityForm.get('name')?.touched">
      <div *ngIf="cityForm.get('name')?.invalid && cityForm.get('name')?.touched" class="mt-1 text-sm text-danger">
        Name is required and must be less than 100 characters
      </div>
    </div>

    <!-- Description Field -->
    <div>
      <label for="description" class="block text-sm font-medium text-darkGray mb-1">Description</label>
      <textarea id="description" formControlName="description" rows="3"
        class="w-full px-3 py-2 border border-lightGray rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
        [class.border-danger]="cityForm.get('description')?.invalid && cityForm.get('description')?.touched"></textarea>
      <div *ngIf="cityForm.get('description')?.invalid && cityForm.get('description')?.touched"
        class="mt-1 text-sm text-danger">
        Description must be less than 500 characters
      </div>
    </div>

    <!-- Population Field -->
    <div>
      <label for="population" class="block text-sm font-medium text-darkGray mb-1">Population</label>
      <input type="number" id="population" formControlName="population"
        class="w-full px-3 py-2 border border-lightGray rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
        [class.border-danger]="cityForm.get('population')?.invalid && cityForm.get('population')?.touched">
      <div *ngIf="cityForm.get('population')?.invalid && cityForm.get('population')?.touched"
        class="mt-1 text-sm text-danger">
        Population is required and must be a positive number
      </div>
    </div>

    <!-- Region Select Field -->
    <div>
      <label for="regionId" class="block text-sm font-medium text-darkGray mb-1">Region</label>
      <select id="regionId" formControlName="regionId"
        class="w-full px-3 py-2 border border-lightGray rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
        [class.border-danger]="cityForm.get('regionId')?.invalid && cityForm.get('regionId')?.touched">
        <option *ngFor="let region of regions" [value]="region.id">{{region.name}}</option>
      </select>
      <div *ngIf="cityForm.get('regionId')?.invalid && cityForm.get('regionId')?.touched"
        class="mt-1 text-sm text-danger">
        Please select a region
      </div>
    </div>

    <!-- Is Capital Checkbox -->
    <div class="flex items-center">
      <input type="checkbox" id="isCapital" formControlName="isCapital"
        class="h-4 w-4 text-primary focus:ring-primary border-lightGray rounded">
      <label for="isCapital" class="ml-2 block text-sm text-darkGray">
        Is Capital City
      </label>
    </div>

    <!-- Founded Year Field -->
    <div>
      <label for="foundedYear" class="block text-sm font-medium text-darkGray mb-1">Founded Year (optional)</label>
      <input type="number" id="foundedYear" formControlName="foundedYear"
        class="w-full px-3 py-2 border border-lightGray rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
        [class.border-danger]="cityForm.get('foundedYear')?.invalid && cityForm.get('foundedYear')?.touched">
      <div *ngIf="cityForm.get('foundedYear')?.invalid && cityForm.get('foundedYear')?.touched"
        class="mt-1 text-sm text-danger">
        Must be between 1000 and current year
      </div>
    </div>

    <!-- Submit Button -->
    <div class="pt-2">
      <button type="submit"
        class="w-full bg-primary hover:bg-opacity-90 text-white font-medium py-2 px-4 rounded-md transition duration-200"
        [disabled]="!cityForm.valid" [class.opacity-50]="!cityForm.valid" [class.cursor-not-allowed]="!cityForm.valid">
        Save City
      </button>
    </div>
  </form>
</div>